<p style="color: red;" class="mt8" *ngIf="uploading">正在上传转化数据，请勿离开或者刷新此页面！</p>
<div class="sub-company-content">
  <form nz-form class="sub-company-form">
    <!--<p style="color: red;margin-bottom: 10px;padding-left: 76px;">正在上传转化数据，请勿离开或者刷新此页面！</p>-->
    <!--<p class="mt8">*请上传.xls或.xlsx文件</p>-->
    <div class="sub-company-form-content">
      <div class="uploadDiv" style="display: inline-block;position: relative;width: 100%;margin-left: 108px;margin-top: 5px;">
        <nz-upload *ngIf="!uploading" class="pull-left"
                   [nzCustomRequest]="customReq"
                   [(nzFileList)]="fileList"
                   [nzBeforeUpload]="beforeUpload"
                   [nzSize]="'small'"
                   [nzLimit] = 1
                   [nzName]="'files'">
          <button nz-button style="height: 20px">
            <i nz-icon nzType="upload" nzTheme="outline"  ></i><span>上传文件</span>
          </button>
        </nz-upload>
        <button *ngIf="uploading" nz-button style="height: 20px" class="mt2 pull-left">
          <i nz-icon nzType="upload" nzTheme="outline"  ></i><span>上传文件</span>
        </button>
        <span style="display: inline-block; margin-top: 3px; position: absolute;left: 95px;">*请上传.xls或.xlsx文件</span>
      </div>
      <div *ngIf="uploading || exception === 'exception'" class="m1020" style="margin-right: 25px; width: 72%; margin-left: 20px;">
        <nz-progress [nzStatus]="exception" [nzPercent]="speed" nzSize="small"></nz-progress>
      </div>


    </div>
    <div class="sub-company-form-footer">
      <button class="ml8" nz-button [nzType]="'default'" [disabled]="uploading" [nzSize]="'small'" (click)="cancelUpload()">
        <span>取消</span>
      </button>
      <button class="ml8" *ngIf="!uploading" nz-button [nzType]="'primary'" [nzSize]="'small'" (click)="handleUpload()">
        <span>完成</span>
      </button>
      <button class="ml8" *ngIf="uploading" nz-button [nzType]="'primary'" [nzSize]="'small'" [nzLoading]="uploading">
        <span>上传中...</span>
      </button>
    </div>
  </form>
</div>
